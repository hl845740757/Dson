# 一些特殊的测试用例

这些测试用例可以看做模板，可以告诉你如何处理复杂的情况。

## SwitchMode

以下三种方式输入的正则部分是相等的，可运行 DsonEscapeTest.java 文件。

正则表达式原型：
> ^[\u4e00-\u9fa5_a-zA-Z0-9]+$

java中反斜杠是转义字符，因此输入一个反斜杠需要两个'\\'；而在dson中，反斜杠也是转义字符，
因此通过Java字符串输入含转义内容的dson时需要4个反斜杠。。。  
是不是很懵逼？所以Dson的指导之一就是：能避免转义就避免转义。

```
      - {
      #  @ss 纯文本模式下输入正则表达式
      -   reg1: [@es 10, @ss ^[\\u4e00-\\u9fa5_a-zA-Z0-9]+$
      ~   ],
      
      #   在纯文本模式插入转义版本的正则表达式
      -   reg2: [@es 10, @ss 
      ^ ^[\\\\u4e00-\\\\u9fa5_a-zA-Z0-9]+$
      ~   ],
              
      #   在双引号模式下插入纯文本的正则表达式，结束行需要使用 '|' 否则会插入换行符导致不等
      -   reg3: "
      ^ ^[\\u4e00-\\u9fa5_a-zA-Z0-9]+$
      | "
      - }
```

## 类型传递

以下数组的元素都将被解析为extInt32，可运行 DsonTypePassingTest.java 文件。

```
    # 指定了数组元素的类型为 extInt32
    - [@{compClsName : ei, localId: 17630eb4f916148b}
    -  [ 1, 0xFFFA],
    -  [ 2, 10100],
    -  [ 3, 10010],
    -  [ 4, 10001],
    - ]
```